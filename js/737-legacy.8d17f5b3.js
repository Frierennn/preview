(self["webpackChunkvue_app"]=self["webpackChunkvue_app"]||[]).push([[737],{4952:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return p}});var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"about"},[r("v-header"),r("navbar"),r("div",{staticClass:"container"},[r("el-page-header",{attrs:{content:"文章编辑"},on:{back:e.goBack}}),r("div",{staticClass:"crumbs baseform"},[r("el-breadcrumb",{attrs:{separator:"/"}},[r("el-breadcrumb-item",[r("i",{staticClass:"el-icon-lx-calendar"})])],1)],1),r("div",{staticClass:"container"},[r("div",{staticClass:"form-box"},[r("el-form",{attrs:{"label-width":"160px"}},[r("el-form-item",{attrs:{label:"文章标题"}},[r("el-input",{model:{value:e.form.title,callback:function(t){e.$set(e.form,"title",t)},expression:"form.title"}})],1),r("el-form-item",{attrs:{label:"发布者"}},[r("el-input",{attrs:{disabled:!0,e:"width: 160px"},model:{value:e.form.user_name,callback:function(t){e.$set(e.form,"user_name",t)},expression:"form.user_name"}})],1),r("el-form-item",{attrs:{label:"发布日期"}},[r("el-input",{attrs:{disabled:!0,e:"width: 160px"},model:{value:e.form.date,callback:function(t){e.$set(e.form,"date",t)},expression:"form.date"}})],1),""!=e.form.text?r("el-form-item",{attrs:{label:"文章简略"}},[r("el-input",{attrs:{type:"textarea",rows:5},model:{value:e.form.text,callback:function(t){e.$set(e.form,"text",t)},expression:"form.text"}})],1):e._e(),r("el-form-item",{staticStyle:{width:"980px"},attrs:{label:"正文"}},[r("textarea",{directives:[{name:"model",rawName:"v-model",value:e.form.detail,expression:"form.detail"}],staticStyle:{height:"100%px"},attrs:{id:"summernote",name:"editordata",rows:"5"},domProps:{value:e.form.detail},on:{input:function(t){t.target.composing||e.$set(e.form,"detail",t.target.value)}}})]),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("保存发布")])],1)],1)],1)])],1)],1)},o=[],n=(r(1038),r(8783),r(1539),r(4747),r(2583)),i=r(1665),s=r(9755),u=r.n(s),c=(r(9669),r(4959)),l=r(6969),f={data:function(){return{user_no:"",form:{title:"",date:"",user_name:"",text:""},index:""}},methods:{checkuserno:function(e){if(this.user_no=c.Z.getCookie("user_no"),console.log("vip"==this.user_no),"vip"==this.user_no)this.$router.push({path:"/Wtbhome"});else if("1"!=this.user_no){var t=this.$createElement;this.$notify({title:"提示",message:t("i",{style:"color: teal"},"无法编辑")}),this.$router.push({path:"/Wtbhome"})}},goBack:function(){this.$router.go(-1)},fetchNotes:function(){this.index=this.$route.params.id;var e=l[0];this.checkuserno(e.user_no),this.form.title=e.title,this.form.user_name=e.user_name,e.text&&(this.form.text=e.text),u()("#summernote").summernote("pasteHTML",e.remark)},getdate:function(){var e=this,t=(new Date).getFullYear(),r=(new Date).getMonth()+1,a=(new Date).getDate(),o=(new Date).getHours(),n=(new Date).getMinutes()<10?"0"+(new Date).getMinutes():(new Date).getMinutes(),i=(new Date).getSeconds()<10?"0"+(new Date).getSeconds():(new Date).getSeconds();e.gettime=t+"/"+r+"/"+a+" "+o+":"+n+":"+i,this.form.date=e.gettime},onSubmit:function(){var e=this.form.title,t=this.form.user_name,r=this.form.date,a=this.form.text,o=new FormData,n=u()("#summernote").summernote("code");o.append("title",e),o.append("date",r),o.append("user_name",t),o.append("detail",n),""!=this.form.text&&o.append("text",a),this.$message.success("提交成功！"),this.$router.push("/info")}},mounted:function(){this.fetchNotes(),this.getdate(),u()(document).ready((function(){u()("#summernote").summernote({height:200,placeholder:"请添加文字内容",toolbar:[["style",["style"]],["font",["bold","underline","clear"]],["fontname",["fontname"]],["color",["color"]],["para",["ul","ol","paragraph"]],["table",["table"]],["insert",["link","picture","video"]],["view",["fullscreen","codeview","help"]]],callbacks:{onImageUpload:function(e){var t=new FormData;e=Array.from(e),e.forEach((function(e){t.append("pic",e)}))}}})}))},components:{navbar:n.Z,vHeader:i.Z}},m=f,d=r(1001),h=(0,d.Z)(m,a,o,!1,null,"fa816906",null),p=h.exports},8533:function(e,t,r){"use strict";var a=r(2092).forEach,o=r(9341),n=o("forEach");e.exports=n?[].forEach:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}},8457:function(e,t,r){"use strict";var a=r(7854),o=r(9974),n=r(6916),i=r(7908),s=r(3411),u=r(7659),c=r(4411),l=r(6244),f=r(6135),m=r(8554),d=r(1246),h=a.Array;e.exports=function(e){var t=i(e),r=c(this),a=arguments.length,p=a>1?arguments[1]:void 0,v=void 0!==p;v&&(p=o(p,a>2?arguments[2]:void 0));var x,b,g,w,y,_,k=d(t),$=0;if(!k||this==h&&u(k))for(x=l(t),b=r?new this(x):h(x);x>$;$++)_=v?p(t[$],$):t[$],f(b,$,_);else for(w=m(t,k),y=w.next,b=r?new this:[];!(g=n(y,w)).done;$++)_=v?s(w,p,[g.value,$],!0):g.value,f(b,$,_);return b.length=$,b}},2092:function(e,t,r){var a=r(9974),o=r(1702),n=r(8361),i=r(7908),s=r(6244),u=r(5417),c=o([].push),l=function(e){var t=1==e,r=2==e,o=3==e,l=4==e,f=6==e,m=7==e,d=5==e||f;return function(h,p,v,x){for(var b,g,w=i(h),y=n(w),_=a(p,v),k=s(y),$=0,D=x||u,E=t?D(h,k):r||m?D(h,0):void 0;k>$;$++)if((d||$ in y)&&(b=y[$],g=_(b,$,w),e))if(t)E[$]=g;else if(g)switch(e){case 3:return!0;case 5:return b;case 6:return $;case 2:c(E,b)}else switch(e){case 4:return!1;case 7:c(E,b)}return f?-1:o||l?l:E}};e.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6),filterReject:l(7)}},7475:function(e,t,r){var a=r(7854),o=r(3157),n=r(4411),i=r(111),s=r(5112),u=s("species"),c=a.Array;e.exports=function(e){var t;return o(e)&&(t=e.constructor,n(t)&&(t===c||o(t.prototype))?t=void 0:i(t)&&(t=t[u],null===t&&(t=void 0))),void 0===t?c:t}},5417:function(e,t,r){var a=r(7475);e.exports=function(e,t){return new(a(e))(0===t?0:t)}},3411:function(e,t,r){var a=r(9670),o=r(9212);e.exports=function(e,t,r,n){try{return n?t(a(r)[0],r[1]):t(r)}catch(i){o(e,"throw",i)}}},3157:function(e,t,r){var a=r(4326);e.exports=Array.isArray||function(e){return"Array"==a(e)}},1038:function(e,t,r){var a=r(2109),o=r(8457),n=r(7072),i=!n((function(e){Array.from(e)}));a({target:"Array",stat:!0,forced:i},{from:o})},4747:function(e,t,r){var a=r(7854),o=r(8324),n=r(8509),i=r(8533),s=r(8880),u=function(e){if(e&&e.forEach!==i)try{s(e,"forEach",i)}catch(t){e.forEach=i}};for(var c in o)o[c]&&u(a[c]&&a[c].prototype);u(n)}}]);
//# sourceMappingURL=737-legacy.8d17f5b3.js.map