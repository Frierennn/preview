"use strict";(self["webpackChunkvue_app"]=self["webpackChunkvue_app"]||[]).push([[588],{9588:function(e,t,s){s.r(t),s.d(t,{default:function(){return c}});var r=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-container",{staticClass:"cennter",staticStyle:{"align-items":"center",height:"100%"}},[r("el-header",{staticStyle:{height:"130px",width:"100%"}},[r("el-image",{staticStyle:{height:"130px",width:"100%"},attrs:{src:s(3380),fit:" contain "}})],1),r("el-main",{staticStyle:{display:"flex","flex-flow":"column","align-items":"center",width:"980px"}},[r("div",{staticStyle:{width:"100%"}},[r("el-divider",[r("h1",[e._v("重置密码")])])],1),r("el-form",{ref:"login",staticStyle:{width:"500px","text-align":"center"},attrs:{model:e.param,rules:e.rules,"label-width":"0px"}},[r("el-form-item",{attrs:{prop:"user_no"}},[r("el-input",{attrs:{placeholder:"请输入邮箱"},scopedSlots:e._u([{key:"prepend",fn:function(){return[r("i",{staticClass:"el-icon-user"})]},proxy:!0}]),model:{value:e.param.user_no,callback:function(t){e.$set(e.param,"user_no",t)},expression:"param.user_no"}})],1),r("el-form-item",{attrs:{prop:"password"}},[r("el-input",{attrs:{type:"password",placeholder:"请输入新密码"},scopedSlots:e._u([{key:"prepend",fn:function(){return[r("i",{staticClass:"el-icon-lock"})]},proxy:!0}]),model:{value:e.param.password,callback:function(t){e.$set(e.param,"password",t)},expression:"param.password"}})],1),r("el-form-item",{attrs:{prop:"code"}},[r("el-input",{attrs:{type:"code",placeholder:"请输入邮箱验证码"},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.register()}},scopedSlots:e._u([{key:"prepend",fn:function(){return[r("el-button",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],staticClass:"getCode",on:{click:function(t){return e.code()}}},[e._v("点击获取")]),r("span",{directives:[{name:"show",rawName:"v-show",value:!e.show,expression:"!show"}],staticClass:"count"},[e._v(e._s(e.count)+"s后重新获取")])]},proxy:!0}]),model:{value:e.param.code,callback:function(t){e.$set(e.param,"code",t)},expression:"param.code"}})],1),r("div",{staticClass:"reg-btn"},[r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.reset()}}},[e._v("点击重置")])],1)],1),r("br"),r("div",{staticStyle:{width:"100%","text-align":"center"}},[r("router-link",{attrs:{to:"/Login"}},[e._v("⇛ 无须重置，点此返回")])],1),r("br"),r("div",{directives:[{name:"show",rawName:"v-show",value:e.hide,expression:"hide"}],staticStyle:{width:"100%","text-align":"center"}},[r("router-link",{attrs:{to:"/Register"}},[e._v("⇛ 尚未注册，点此注册")])],1),r("br"),r("div",{staticStyle:{width:"100%","text-align":"center"}},[e._v(" 重置即代表你同意用户协议和隐私政策 ")])],1)],1)},i=[],a=(s(9669),{data(){return{hide:!0,show:!0,count:"",timer:null,param:{user_no:"",password:"",code:"",date:""},rules:{user_no:[{required:!0,message:"请输入邮箱",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}],code:[{required:!0,message:"请输入验证码",trigger:"blur"}]}}},mounted(){this.checkuserno()},methods:{getCookie(e){for(var t=e+"=",s=document.cookie.split(";"),r=0;r<s.length;r++){var i=s[r].trim();if(0==i.indexOf(t))return i.substring(t.length,i.length)}return""},checkuserno(){var e=this.getCookie("user_no");""!=e&&(0==e?console.log("游客已登录"):this.hide=!1)},reset(){var e=this;let t=(new Date).getFullYear(),s=(new Date).getMonth()+1,r=(new Date).getDate(),i=(new Date).getHours(),a=(new Date).getMinutes()<10?"0"+(new Date).getMinutes():(new Date).getMinutes(),n=(new Date).getSeconds()<10?"0"+(new Date).getSeconds():(new Date).getSeconds();e.gettime=t+"/"+s+"/"+r+" "+i+":"+a+":"+n,this.param.date=e.gettime;const o=/^([a-zA-Z0-9_-])+@([a-zA-Z0-9_-])+(.[a-zA-Z0-9_-])+/;this.param.user_no?o.test(this.param.user_no)?this.$refs.login.validate((e=>{if(!e)return this.$notify.error({title:"错误",message:"请输入邮箱、密码和验证码"}),!1;this.$notify({title:"成功",message:"成功",type:"success"}),setTimeout((()=>{this.$router.push({path:"/Login"})}),500)})):this.$notify.error({title:"错误",message:"请输入正确的邮箱格式"}):this.$notify.error({title:"错误",message:"邮箱不能为空"})},code(){const e=60,t=/^([a-zA-Z0-9_-])+@([a-zA-Z0-9_-])+(.[a-zA-Z0-9_-])+/;this.param.user_no?t.test(this.param.user_no)?(this.timer||(this.count=e,this.show=!1,this.timer=setInterval((()=>{this.count>0&&this.count<=e?this.count--:(this.show=!0,clearInterval(this.timer),this.timer=null)}),1e3)),this.$notify({title:"成功",message:"成功",type:"success"})):this.$notify.error({title:"错误",message:"请输入正确的邮箱格式"}):this.$notify.error({title:"错误",message:"邮箱不能为空"})}}}),n=a,o=s(1001),l=(0,o.Z)(n,r,i,!1,null,null,null),c=l.exports},3380:function(e,t,s){e.exports=s.p+"img/header.77941e89.jpg"}}]);
//# sourceMappingURL=588.8fa4b27f.js.map