"use strict";(self["webpackChunkvue_app"]=self["webpackChunkvue_app"]||[]).push([[623],{1665:function(e,t,r){r.d(t,{Z:function(){return u}});var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"header"},[r("h2",{staticClass:"logo"},[e._v("Utopia")]),r("div",{staticClass:"header-right"},[r("div",{staticClass:"header-user-con"},[r("div",[r("el-avatar",{attrs:{src:e.imgUrl,fit:"scale-down",size:"medium"}})],1),r("el-dropdown",{staticClass:"user-name",on:{command:e.handleCommand}},[r("span",{staticClass:"el-dropdown-link"},[e._v(" "+e._s(e.name)+" "),r("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),r("el-dropdown-menu",{attrs:{name:"dropdown"}},[r("el-dropdown-item",{attrs:{command:"退出登录"}},[e._v("退出登录")])],1)],1)],1)])])},o=[],s=r(4959),n=(r(9669),{data(){return{imgUrl:r(7549),name:"游客",message:2}},computed:{collapse(){return this.$store.state.collapse}},methods:{logout(){s.Z.clearCookie("user_no"),s.Z.clearCookie("user_name"),s.Z.clearCookie("state"),s.Z.clearCookie("date"),s.Z.set("refresh","true")},handleCommand(e){for(var t=document.cookie.split(";"),r=0;r<t.length;r++){var a=t[r],o=a.indexOf("="),s=o>-1?a.substr(0,o):a;document.cookie=s+"=;expires=Thu, 01 Jan 1970 00:00:00 GMT"}this.$message(e),this.$router.push("/")},getCookie(e){for(var t=e+"=",r=document.cookie.split(";"),a=0;a<r.length;a++){var o=r[a].trim();if(0==o.indexOf(t))return o.substring(t.length,o.length)}return""},getUserdata(){this.getCookie("user_name")&&(this.name=decodeURI(this.getCookie("user_name"))),this.getCookie("img")&&(this.imgUrl=unescape(this.getCookie("img")))}},mounted(){this.getUserdata()}}),i=n,l=r(1001),m=(0,l.Z)(i,a,o,!1,null,"46832a60",null),u=m.exports},2583:function(e,t,r){r.d(t,{Z:function(){return m}});var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"navbar"},[r("el-menu",{ref:"menu",staticClass:"el-menu-demo",staticStyle:{width:"980px"},attrs:{"default-active":e.$route.path,mode:"horizontal",router:""}},[r("el-menu-item",{attrs:{index:"/news"}},[e._v("广软新闻")]),r("el-menu-item",{attrs:{index:"/activity"}},[e._v("广软活动中心")]),r("el-menu-item",{attrs:{index:"/fblog"}},[e._v("广软社区分享")]),r("el-menu-item",{attrs:{index:"/friends"}},[e._v("我的消息")]),r("el-menu-item",{attrs:{index:"/info"}},[e._v("个人中心")])],1),r("router-view",{directives:[{name:"show",rawName:"v-show",value:e.nav,expression:"nav"}]})],1)},o=[],s={data(){return{nav:!0,activePath:"/new"}},methods:{}},n=s,i=r(1001),l=(0,i.Z)(n,a,o,!1,null,"b04b3f30",null),m=l.exports},2623:function(e,t,r){r.r(t),r.d(t,{default:function(){return g}});var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"about"},[r("v-header"),r("navbar"),r("div",{staticClass:"container"},[r("el-page-header",{attrs:{content:"文章发布"},on:{back:e.goBack}}),r("br"),r("div",{staticClass:"form-box"},[r("el-form",{ref:"form",attrs:{"label-width":"160px",model:e.form,rules:e.rules}},[r("el-form-item",{attrs:{label:"文章标题",prop:"title"}},[r("el-input",{model:{value:e.form.title,callback:function(t){e.$set(e.form,"title",t)},expression:"form.title"}})],1),r("el-form-item",{attrs:{label:"发布分区"}},[r("el-select",{attrs:{placeholder:"发布分区"},model:{value:e.form.region,callback:function(t){e.$set(e.form,"region",t)},expression:"form.region"}},[r("el-option",{attrs:{label:"日常",value:"1"}}),r("el-option",{attrs:{label:"二手",value:"2"}}),r("el-option",{attrs:{label:"求助",value:"3"}}),r("el-option",{attrs:{label:"交友",value:"4"}})],1)],1),r("el-form-item",{attrs:{label:"发布者"}},[r("el-input",{attrs:{disabled:!0,e:"width: 160px"},model:{value:e.form.user_name,callback:function(t){e.$set(e.form,"user_name",t)},expression:"form.user_name"}})],1),r("el-form-item",{attrs:{label:"发布日期"}},[r("el-input",{attrs:{disabled:!0,e:"width: 160px"},model:{value:e.form.date,callback:function(t){e.$set(e.form,"date",t)},expression:"form.date"}})],1),r("el-form-item",{staticStyle:{width:"980px"},attrs:{label:"正文",prop:"detail"}},[r("textarea",{directives:[{name:"model",rawName:"v-model",value:e.form.detail,expression:"form.detail"}],attrs:{id:"summernote",name:"editordata",rows:"5"},domProps:{value:e.form.detail},on:{input:function(t){t.target.composing||e.$set(e.form,"detail",t.target.value)}}})]),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.onSubmit("form")}}},[e._v("发表文章")])],1)],1)],1)],1)],1)},o=[],s=r(2583),n=r(1665),i=r(9755),l=r.n(i),m=(r(4959),r(9669),{name:"baseform",data(){return{form:{title:"",user_name:decodeURI(this.getCookie("user_name")),date:"",detail:"",region:"1",user_no:unescape(this.getCookie("user_no"))},rules:{title:[{required:!0,message:"请输入文章标题",trigger:"blur"},{min:3,message:"最小长度为 3  个字符",trigger:"blur"}],detail:[{required:!0,message:"请输入文章标题",trigger:"blur"},{min:3,message:"最小长度为 3  个字符",trigger:"blur"}]}}},methods:{checkuserno(){var e=this.getCookie("user_no");""!=e&&0==e&&(console.log("游客已登录"),this.$message.success("注册体验更多内容"),this.$router.push({path:"/Register"}))},getCookie(e){for(var t=e+"=",r=document.cookie.split(";"),a=0;a<r.length;a++){var o=r[a].trim();if(0==o.indexOf(t))return o.substring(t.length,o.length)}return""},goBack(){this.$router.go(-1)},getdate(){var e=this;let t=(new Date).getFullYear(),r=(new Date).getMonth()+1,a=(new Date).getDate(),o=(new Date).getHours(),s=(new Date).getMinutes()<10?"0"+(new Date).getMinutes():(new Date).getMinutes(),n=(new Date).getSeconds()<10?"0"+(new Date).getSeconds():(new Date).getSeconds();e.gettime=t+"/"+r+"/"+a+" "+o+":"+s+":"+n,this.form.date=e.gettime},onSubmit(e){this.form.detail=l()("#summernote").summernote("code");var t=new RegExp("[\\u4E00-\\u9FFF]+","g");if(!t.test(this.form.detail))return this.$message.error("正文内容不能为空！"),!1;this.$message.success("提交成功！"),this.$router.push("/fblog")}},mounted(){this.getdate(),l()(document).ready((function(){l()("#summernote").summernote({height:200,placeholder:"请添加文字内容",toolbar:[["style",["style"]],["font",["bold","underline","clear"]],["fontname",["fontname"]],["color",["color"]],["para",["ul","ol","paragraph"]],["table",["table"]],["insert",["link","picture","video"]],["view",["fullscreen","codeview","help"]]],callbacks:{onImageUpload:function(e){let t=new FormData;e=Array.from(e),e.forEach((e=>{t.append("pic",e)}))}}})})),this.checkuserno()},components:{navbar:s.Z,vHeader:n.Z}}),u=m,d=r(1001),c=(0,d.Z)(u,a,o,!1,null,"6a365024",null),g=c.exports},7549:function(e,t,r){e.exports=r.p+"img/img.66757dfc.jpg"}}]);
//# sourceMappingURL=623.789e3952.js.map