{"version":3,"file":"js/623.789e3952.js","mappings":"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","sources":["webpack://vue_app/./src/components/Header.vue?d89b","webpack://vue_app/src/components/Header.vue","webpack://vue_app/./src/components/Header.vue?1e0b","webpack://vue_app/./src/components/Header.vue","webpack://vue_app/./src/components/navbar.vue?6f35","webpack://vue_app/src/components/navbar.vue","webpack://vue_app/./src/components/navbar.vue?2950","webpack://vue_app/./src/components/navbar.vue","webpack://vue_app/./src/views/BaseForm.vue?ef53","webpack://vue_app/src/views/BaseForm.vue","webpack://vue_app/./src/views/BaseForm.vue?610a","webpack://vue_app/./src/views/BaseForm.vue"],"sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"header\"},[_c('h2',{staticClass:\"logo\"},[_vm._v(\"Utopia\")]),_c('div',{staticClass:\"header-right\"},[_c('div',{staticClass:\"header-user-con\"},[_c('div',[_c('el-avatar',{attrs:{\"src\":_vm.imgUrl,\"fit\":\"scale-down\",\"size\":\"medium\"}})],1),_c('el-dropdown',{staticClass:\"user-name\",on:{\"command\":_vm.handleCommand}},[_c('span',{staticClass:\"el-dropdown-link\"},[_vm._v(\" \"+_vm._s(_vm.name)+\" \"),_c('i',{staticClass:\"el-icon-arrow-down el-icon--right\"})]),_c('el-dropdown-menu',{attrs:{\"name\":\"dropdown\"}},[_c('el-dropdown-item',{attrs:{\"command\":\"退出登录\"}},[_vm._v(\"退出登录\")])],1)],1)],1)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"header\">\n    <h2 class=\"logo\">Utopia</h2>\n    <div class=\"header-right\">\n      <div class=\"header-user-con\">\n        <!-- 用户头像 -->\n        <div>\n          <el-avatar :src=\"imgUrl\" fit=\"scale-down\" size=\"medium\"></el-avatar>\n        </div>\n        <!-- 用户名下拉菜单 -->\n        <el-dropdown class=\"user-name\" @command=\"handleCommand\">\n          <span class=\"el-dropdown-link\">\n            {{ name }}\n            <i class=\"el-icon-arrow-down el-icon--right\"></i>\n          </span>\n          <el-dropdown-menu name=\"dropdown\">\n            <el-dropdown-item command=\"退出登录\">退出登录</el-dropdown-item>\n          </el-dropdown-menu>\n        </el-dropdown>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\nimport cookie from \"../utils/cookie.js\";\nimport axios from \"axios\";\nexport default {\n  data() {\n    return {\n      imgUrl: require(\"../assets/img/img.jpg\"),\n      name: \"游客\",\n      message: 2,\n    };\n  },\n  computed: {\n    collapse() {\n      return this.$store.state.collapse;\n    },\n  },\n  methods: {\n    logout() {\n      cookie.clearCookie(\"user_no\");\n      cookie.clearCookie(\"user_name\");\n      cookie.clearCookie(\"state\");\n      cookie.clearCookie(\"date\");\n      cookie.set(\"refresh\", \"true\");\n    },\n\n    handleCommand(command) {\n      var cookies = document.cookie.split(\";\");\n      for (var i = 0; i < cookies.length; i++) {\n        var cookie = cookies[i];\n        var eqPos = cookie.indexOf(\"=\");\n        var name = eqPos > -1 ? cookie.substr(0, eqPos) : cookie;\n        document.cookie = name + \"=;expires=Thu, 01 Jan 1970 00:00:00 GMT\";\n      }\n      this.$message(command);\n      this.$router.push(\"/\");\n    },\n\n    getCookie(cname) {\n      var name = cname + \"=\";\n      var ca = document.cookie.split(\";\");\n      for (var i = 0; i < ca.length; i++) {\n        var c = ca[i].trim();\n        if (c.indexOf(name) == 0) return c.substring(name.length, c.length);\n      }\n      return \"\";\n    },\n\n    getUserdata() {\n      if (this.getCookie(\"user_name\")) {\n        this.name = decodeURI(this.getCookie(\"user_name\"));\n      }\n      if (this.getCookie(\"img\")) {\n        this.imgUrl = unescape(this.getCookie(\"img\"));\n      }\n    },\n  },\n  mounted() {\n    this.getUserdata();\n  },\n};\n</script>\n<style scoped>\n.header {\n  background: #387298;\n  position: relative;\n  box-sizing: border-box;\n  width: 100%;\n  height: 70px;\n  font-size: 22px;\n  color: #fff;\n}\n.header .logo {\n  padding-left: 30px;\n  float: left;\n  width: 250px;\n  line-height: 70px;\n}\n.header-right {\n  float: right;\n  padding-right: 50px;\n}\n.logo {\n  float: left;\n  padding-right: 50px;\n}\n.header-user-con {\n  display: flex;\n  height: 70px;\n  align-items: center;\n}\n.btn-bell .el-icon-bell {\n  color: #fff;\n}\n.user-name {\n  margin-left: 10px;\n}\n.el-dropdown-link {\n  color: #fff;\n  cursor: pointer;\n}\n</style>\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Header.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Header.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Header.vue?vue&type=template&id=46832a60&scoped=true&\"\nimport script from \"./Header.vue?vue&type=script&lang=js&\"\nexport * from \"./Header.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Header.vue?vue&type=style&index=0&id=46832a60&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"46832a60\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"navbar\"},[_c('el-menu',{ref:\"menu\",staticClass:\"el-menu-demo\",staticStyle:{\"width\":\"980px\"},attrs:{\"default-active\":_vm.$route.path,\"mode\":\"horizontal\",\"router\":\"\"}},[_c('el-menu-item',{attrs:{\"index\":\"/news\"}},[_vm._v(\"广软新闻\")]),_c('el-menu-item',{attrs:{\"index\":\"/activity\"}},[_vm._v(\"广软活动中心\")]),_c('el-menu-item',{attrs:{\"index\":\"/fblog\"}},[_vm._v(\"广软社区分享\")]),_c('el-menu-item',{attrs:{\"index\":\"/friends\"}},[_vm._v(\"我的消息\")]),_c('el-menu-item',{attrs:{\"index\":\"/info\"}},[_vm._v(\"个人中心\")])],1),_c('router-view',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.nav),expression:\"nav\"}]})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\r\n<template>\r\n  <div class=\"navbar\">\r\n    <el-menu\r\n      ref=\"menu\"\r\n      :default-active=\"$route.path\"\r\n      class=\"el-menu-demo\"\r\n      mode=\"horizontal\"\r\n      router\r\n      style=\" width: 980px;\"\r\n    >\r\n      <el-menu-item index=\"/news\">广软新闻</el-menu-item>\r\n      <el-menu-item index=\"/activity\">广软活动中心</el-menu-item>\r\n      <el-menu-item index=\"/fblog\">广软社区分享</el-menu-item>\r\n      <el-menu-item index=\"/friends\">我的消息</el-menu-item>\r\n      <el-menu-item index=\"/info\">个人中心</el-menu-item>\r\n    </el-menu>\r\n    <!-- 路由匹配到的组件将显示在这里 -->\r\n    <router-view v-show=\"nav\"></router-view>\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      nav:true,\r\n      activePath:'/new',\r\n    };\r\n  },\r\n  methods: {},\r\n};\r\n</script>\r\n<style scoped>\r\na {\r\n  text-decoration: none;\r\n}\r\n\r\n.router-link-active {\r\n  text-decoration: none;\r\n}\r\n.navbar{\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-around;\r\n  flex-flow: column;\r\n}\r\n</style>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./navbar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./navbar.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./navbar.vue?vue&type=template&id=b04b3f30&scoped=true&\"\nimport script from \"./navbar.vue?vue&type=script&lang=js&\"\nexport * from \"./navbar.vue?vue&type=script&lang=js&\"\nimport style0 from \"./navbar.vue?vue&type=style&index=0&id=b04b3f30&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"b04b3f30\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"about\"},[_c('v-header'),_c('navbar'),_c('div',{staticClass:\"container\"},[_c('el-page-header',{attrs:{\"content\":\"文章发布\"},on:{\"back\":_vm.goBack}}),_c('br'),_c('div',{staticClass:\"form-box\"},[_c('el-form',{ref:\"form\",attrs:{\"label-width\":\"160px\",\"model\":_vm.form,\"rules\":_vm.rules}},[_c('el-form-item',{attrs:{\"label\":\"文章标题\",\"prop\":\"title\"}},[_c('el-input',{model:{value:(_vm.form.title),callback:function ($$v) {_vm.$set(_vm.form, \"title\", $$v)},expression:\"form.title\"}})],1),_c('el-form-item',{attrs:{\"label\":\"发布分区\"}},[_c('el-select',{attrs:{\"placeholder\":\"发布分区\"},model:{value:(_vm.form.region),callback:function ($$v) {_vm.$set(_vm.form, \"region\", $$v)},expression:\"form.region\"}},[_c('el-option',{attrs:{\"label\":\"日常\",\"value\":\"1\"}}),_c('el-option',{attrs:{\"label\":\"二手\",\"value\":\"2\"}}),_c('el-option',{attrs:{\"label\":\"求助\",\"value\":\"3\"}}),_c('el-option',{attrs:{\"label\":\"交友\",\"value\":\"4\"}})],1)],1),_c('el-form-item',{attrs:{\"label\":\"发布者\"}},[_c('el-input',{attrs:{\"disabled\":true,\"e\":\"width: 160px\"},model:{value:(_vm.form.user_name),callback:function ($$v) {_vm.$set(_vm.form, \"user_name\", $$v)},expression:\"form.user_name\"}})],1),_c('el-form-item',{attrs:{\"label\":\"发布日期\"}},[_c('el-input',{attrs:{\"disabled\":true,\"e\":\"width: 160px\"},model:{value:(_vm.form.date),callback:function ($$v) {_vm.$set(_vm.form, \"date\", $$v)},expression:\"form.date\"}})],1),_c('el-form-item',{staticStyle:{\"width\":\"980px\"},attrs:{\"label\":\"正文\",\"prop\":\"detail\"}},[_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.detail),expression:\"form.detail\"}],attrs:{\"id\":\"summernote\",\"name\":\"editordata\",\"rows\":\"5\"},domProps:{\"value\":(_vm.form.detail)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.form, \"detail\", $event.target.value)}}})]),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.onSubmit('form')}}},[_vm._v(\"发表文章\")])],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"about\">\n    <v-header />\n    <navbar></navbar>\n\n    <div class=\"container\">\n      <el-page-header @back=\"goBack\" content=\"文章发布\"> </el-page-header><br />\n      <div class=\"form-box\">\n        <el-form label-width=\"160px\" :model=\"form\" :rules=\"rules\" ref=\"form\">\n          <el-form-item label=\"文章标题\" prop=\"title\">\n            <el-input v-model=\"form.title\"></el-input>\n          </el-form-item>\n\n          <el-form-item label=\"发布分区\">\n            <el-select v-model=\"form.region\" placeholder=\"发布分区\">\n              <el-option label=\"日常\" value=\"1\"></el-option>\n              <el-option label=\"二手\" value=\"2\"></el-option>\n              <el-option label=\"求助\" value=\"3\"></el-option>\n              <el-option label=\"交友\" value=\"4\"></el-option>\n            </el-select>\n          </el-form-item>\n\n          <el-form-item label=\"发布者\">\n            <el-input :disabled=\"true\" v-model=\"form.user_name\" e=\"width: 160px\"></el-input>\n          </el-form-item>\n\n          <el-form-item label=\"发布日期\">\n            <el-input :disabled=\"true\" v-model=\"form.date\" e=\"width: 160px\"></el-input>\n          </el-form-item>\n\n          <el-form-item label=\"正文\" style=\"width: 980px\" prop=\"detail\">\n            <textarea id=\"summernote\" name=\"editordata\" rows=\"5\" v-model=\"form.detail\"></textarea>\n          </el-form-item>\n\n          <el-form-item>\n            <el-button type=\"primary\" @click=\"onSubmit('form')\">发表文章</el-button>\n          </el-form-item>\n        </el-form>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport navbar from \"../components/navbar.vue\";\nimport vHeader from \"../components/Header\";\nimport $ from \"jquery\";\nimport cookie from \"../utils/cookie.js\";\nimport axios from \"axios\";\nexport default {\n  name: \"baseform\",\n  data() {\n    return {\n      form: {\n        title: \"\",\n        user_name: decodeURI(this.getCookie(\"user_name\")),\n        date: \"\",\n        detail: \"\",\n        region: \"1\",\n        user_no: unescape(this.getCookie(\"user_no\")),\n      },\n      rules: {\n        title: [\n          { required: true, message: \"请输入文章标题\", trigger: \"blur\" },\n          { min: 3, message: \"最小长度为 3  个字符\", trigger: \"blur\" },\n        ],\n        detail: [\n          { required: true, message: \"请输入文章标题\", trigger: \"blur\" },\n          { min: 3, message: \"最小长度为 3  个字符\", trigger: \"blur\" },\n        ],\n      },\n    };\n  },\n  methods: {\n    //checkuserno\n    checkuserno() {\n      var userno = this.getCookie(\"user_no\");\n      if (userno != \"\") {\n        if (userno == 0) {\n          console.log(\"游客已登录\");\n          this.$message.success(\"注册体验更多内容\");\n          this.$router.push({ path: \"/Register\" });\n        } else {\n        }\n      }\n    },\n    getCookie(cname) {\n      var name = cname + \"=\";\n      var ca = document.cookie.split(\";\");\n      for (var i = 0; i < ca.length; i++) {\n        var c = ca[i].trim();\n        if (c.indexOf(name) == 0) return c.substring(name.length, c.length);\n      }\n      return \"\";\n    },\n    goBack() {\n      this.$router.go(-1);\n    },\n    getdate() {\n      var _this = this;\n      let yy = new Date().getFullYear();\n      let mm = new Date().getMonth() + 1;\n      let dd = new Date().getDate();\n      let hh = new Date().getHours();\n      let mf =\n        new Date().getMinutes() < 10\n          ? \"0\" + new Date().getMinutes()\n          : new Date().getMinutes();\n      let ss =\n        new Date().getSeconds() < 10\n          ? \"0\" + new Date().getSeconds()\n          : new Date().getSeconds();\n      _this.gettime = yy + \"/\" + mm + \"/\" + dd + \" \" + hh + \":\" + mf + \":\" + ss;\n      this.form.date = _this.gettime;\n    },\n    onSubmit(formName) {\n      this.form.detail = $(\"#summernote\").summernote(\"code\");\n      var reg = new RegExp(\"[\\\\u4E00-\\\\u9FFF]+\", \"g\");\n      if (reg.test(this.form.detail)) {\n      } else {\n        this.$message.error(\"正文内容不能为空！\");\n        return false;\n      }\n      // this.$refs[formName].validate((valid) => {\n      //   if (valid) {\n      //     axios\n      //       .post(\"/upload/add\", this.form)\n      //       .then((res) => {\n      //         let r = res.data;\n      //         if (r.affectedRows == 1) {\n      this.$message.success(\"提交成功！\");\n      this.$router.push(\"/fblog\");\n      //         }\n      //       })\n      //       .catch((err) => {\n      //         this.$message.error(\"提交失败！\");\n      //         console.log(err);\n      //       });\n      //   } else {\n      //     this.$message.error(\"提交失败！\");\n      //     return false;\n      //   }\n      // });\n    },\n  },\n  mounted() {\n    this.getdate();\n    $(document).ready(function () {\n      $(\"#summernote\").summernote({\n        height: 200,\n        placeholder: \"请添加文字内容\",\n        toolbar: [\n          [\"style\", [\"style\"]],\n          [\"font\", [\"bold\", \"underline\", \"clear\"]],\n          [\"fontname\", [\"fontname\"]],\n          [\"color\", [\"color\"]],\n          [\"para\", [\"ul\", \"ol\", \"paragraph\"]],\n          [\"table\", [\"table\"]],\n          [\"insert\", [\"link\", \"picture\", \"video\"]],\n          [\"view\", [\"fullscreen\", \"codeview\", \"help\"]],\n        ],\n        callbacks: {\n          onImageUpload: function (files) {\n            let formData = new FormData();\n            files = Array.from(files);\n            files.forEach((file) => {\n              formData.append(\"pic\", file);\n            });\n            // axios\n            //   .post(\"/upload/up\", formData)\n            //   .then((res) => {\n            //     res.data.forEach((url) => {\n            //       let okurl = \"\\\\\" + url;\n            //       $(\"#summernote\").summernote(\"insertImage\", okurl);\n            //     });\n            //   })\n            //   .catch((err) => {\n            //     console.log(err);\n            //   });\n          },\n        },\n      });\n    });\n    this.checkuserno();\n  },\n  components: {\n    navbar,\n    vHeader,\n  },\n};\n</script>\n<style scoped>\n.container {\n  width: 980px;\n  padding-top: 20px;\n}\n</style>\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./BaseForm.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./BaseForm.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./BaseForm.vue?vue&type=template&id=6a365024&scoped=true&\"\nimport script from \"./BaseForm.vue?vue&type=script&lang=js&\"\nexport * from \"./BaseForm.vue?vue&type=script&lang=js&\"\nimport style0 from \"./BaseForm.vue?vue&type=style&index=0&id=6a365024&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6a365024\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","attrs","imgUrl","on","handleCommand","_s","name","staticRenderFns","data","message","computed","collapse","$store","state","methods","logout","cookie","command","cookies","document","split","i","length","eqPos","indexOf","substr","$message","$router","push","getCookie","cname","ca","c","trim","substring","getUserdata","decodeURI","unescape","mounted","component","ref","staticStyle","$route","path","directives","rawName","value","expression","nav","activePath","goBack","form","rules","model","callback","$$v","$set","domProps","$event","target","composing","onSubmit","title","user_name","date","detail","region","user_no","required","trigger","min","checkuserno","userno","console","log","success","go","getdate","_this","yy","Date","getFullYear","mm","getMonth","dd","getDate","hh","getHours","mf","ss","gettime","formName","summernote","reg","RegExp","test","error","$","ready","height","placeholder","toolbar","callbacks","onImageUpload","files","formData","FormData","Array","from","forEach","append","file","components","navbar","vHeader"],"sourceRoot":""}