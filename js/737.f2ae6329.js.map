{"version":3,"file":"js/737.f2ae6329.js","mappings":"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","sources":["webpack://vue_app/./src/views/Notechange.vue?d01a","webpack://vue_app/src/views/Notechange.vue","webpack://vue_app/./src/views/Notechange.vue?69a6","webpack://vue_app/./src/views/Notechange.vue"],"sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"about\"},[_c('v-header'),_c('navbar'),_c('div',{staticClass:\"container\"},[_c('el-page-header',{attrs:{\"content\":\"文章编辑\"},on:{\"back\":_vm.goBack}}),_c('div',{staticClass:\"crumbs baseform\"},[_c('el-breadcrumb',{attrs:{\"separator\":\"/\"}},[_c('el-breadcrumb-item',[_c('i',{staticClass:\"el-icon-lx-calendar\"})])],1)],1),_c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"form-box\"},[_c('el-form',{attrs:{\"label-width\":\"160px\"}},[_c('el-form-item',{attrs:{\"label\":\"文章标题\"}},[_c('el-input',{model:{value:(_vm.form.title),callback:function ($$v) {_vm.$set(_vm.form, \"title\", $$v)},expression:\"form.title\"}})],1),_c('el-form-item',{attrs:{\"label\":\"发布者\"}},[_c('el-input',{attrs:{\"disabled\":true,\"e\":\"width: 160px\"},model:{value:(_vm.form.user_name),callback:function ($$v) {_vm.$set(_vm.form, \"user_name\", $$v)},expression:\"form.user_name\"}})],1),_c('el-form-item',{attrs:{\"label\":\"发布日期\"}},[_c('el-input',{attrs:{\"disabled\":true,\"e\":\"width: 160px\"},model:{value:(_vm.form.date),callback:function ($$v) {_vm.$set(_vm.form, \"date\", $$v)},expression:\"form.date\"}})],1),(_vm.form.text != '')?_c('el-form-item',{attrs:{\"label\":\"文章简略\"}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"rows\":5},model:{value:(_vm.form.text),callback:function ($$v) {_vm.$set(_vm.form, \"text\", $$v)},expression:\"form.text\"}})],1):_vm._e(),_c('el-form-item',{staticStyle:{\"width\":\"980px\"},attrs:{\"label\":\"正文\"}},[_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.detail),expression:\"form.detail\"}],staticStyle:{\"height\":\"100%px\"},attrs:{\"id\":\"summernote\",\"name\":\"editordata\",\"rows\":\"5\"},domProps:{\"value\":(_vm.form.detail)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.form, \"detail\", $event.target.value)}}})]),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.onSubmit}},[_vm._v(\"保存发布\")])],1)],1)],1)])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"about\">\r\n    <v-header />\r\n    <navbar></navbar>\r\n\r\n    <div class=\"container\">\r\n      <el-page-header @back=\"goBack\" content=\"文章编辑\"> </el-page-header>\r\n      <div class=\"crumbs baseform\">\r\n        <el-breadcrumb separator=\"/\">\r\n          <el-breadcrumb-item>\r\n            <i class=\"el-icon-lx-calendar\"></i>\r\n          </el-breadcrumb-item>\r\n        </el-breadcrumb>\r\n      </div>\r\n\r\n      <div class=\"container\">\r\n        <div class=\"form-box\">\r\n          <el-form label-width=\"160px\">\r\n            <el-form-item label=\"文章标题\">\r\n              <el-input v-model=\"form.title\" style=\"\"></el-input>\r\n            </el-form-item>\r\n\r\n            <el-form-item label=\"发布者\">\r\n              <el-input :disabled=\"true\" v-model=\"form.user_name\" e=\"width: 160px\"></el-input>\r\n            </el-form-item>\r\n\r\n            <el-form-item label=\"发布日期\">\r\n              <el-input :disabled=\"true\" v-model=\"form.date\" e=\"width: 160px\"></el-input>\r\n            </el-form-item>\r\n\r\n            <el-form-item label=\"文章简略\" v-if=\"form.text != ''\">\r\n              <el-input v-model=\"form.text\" type=\"textarea\" :rows=\"5\"></el-input>\r\n            </el-form-item>\r\n\r\n            <el-form-item label=\"正文\" style=\"width: 980px\">\r\n              <textarea id=\"summernote\" name=\"editordata\" rows=\"5\" v-model=\"form.detail\"\r\n                style=\"height: 100%px\"></textarea>\r\n            </el-form-item>\r\n\r\n            <el-form-item>\r\n              <el-button type=\"primary\" @click=\"onSubmit\">保存发布</el-button>\r\n            </el-form-item>\r\n          </el-form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport navbar from \"../components/navbar.vue\";\r\nimport vHeader from \"../components/Header\";\r\nimport $ from \"jquery\";\r\nimport axios from \"axios\";\r\nimport cookie from '../utils/cookie.js'\r\nimport notedetail_json from \"../assets/json/notedetail.json\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      user_no: \"\",\r\n      form: {\r\n        title: \"\",\r\n        date: \"\",\r\n        user_name: \"\",\r\n        text: \"\",\r\n      },\r\n      index: \"\",\r\n    };\r\n  },\r\n  methods: {\r\n    // getCookie(cname) {\r\n    //   var name = cname + \"=\";\r\n    //   var ca = document.cookie.split(\";\");\r\n    //   for (var i = 0; i < ca.length; i++) {\r\n    //     var c = ca[i].trim();\r\n    //     if (c.indexOf(name) == 0) return c.substring(name.length, c.length);\r\n    //   }\r\n    //   return \"\";\r\n    // },\r\n    //用户角色\r\n    checkuserno(user_no) {\r\n      // this.user_no = unescape(this.getCookie(\"user_no\"));\r\n      this.user_no = cookie.getCookie('user_no');\r\n\r\n      console.log(this.user_no == \"vip\");\r\n      if (this.user_no == \"vip\") {\r\n        // var user_no = this.getCookie(\"user_no\");\r\n        // var password = this.getCookie(\"password\");\r\n        // axios\r\n        //   .post(\"/users/viplogin\", {\r\n        //     user_no: user_no,\r\n        //     password: password,\r\n        //   })\r\n        //   .then((res) => {\r\n        //     let r = res.data;\r\n        //     if (r.flag == true) {\r\n        //       console.log(r);\r\n        //     } else {\r\n        this.$router.push({ path: \"/Wtbhome\" });\r\n        //   }\r\n        // });\r\n      } else if (this.user_no != \"1\") {\r\n        const h = this.$createElement;\r\n        this.$notify({\r\n          title: \"提示\",\r\n          message: h(\"i\", { style: \"color: teal\" }, \"无法编辑\"),\r\n        });\r\n        this.$router.push({ path: \"/Wtbhome\" });\r\n      }\r\n    },\r\n    goBack() {\r\n      this.$router.go(-1);\r\n    },\r\n    //获取\r\n    fetchNotes() {\r\n      this.index = this.$route.params.id;\r\n      // axios\r\n      //   .get(\"/upload/update/\" + this.index)\r\n      //   .then((res) => {\r\n      let res = notedetail_json[0];\r\n      this.checkuserno(res.user_no);\r\n      this.form.title = res.title;\r\n      this.form.user_name = res.user_name;\r\n      if (res.text) {\r\n        this.form.text = res.text;\r\n      }\r\n      $(\"#summernote\").summernote(\"pasteHTML\", res.remark);\r\n      // })\r\n      // .catch((err) => {\r\n      //   console.log(err);\r\n      // });\r\n    },\r\n\r\n    getdate() {\r\n      var _this = this;\r\n      let yy = new Date().getFullYear();\r\n      let mm = new Date().getMonth() + 1;\r\n      let dd = new Date().getDate();\r\n      let hh = new Date().getHours();\r\n      let mf =\r\n        new Date().getMinutes() < 10\r\n          ? \"0\" + new Date().getMinutes()\r\n          : new Date().getMinutes();\r\n      let ss =\r\n        new Date().getSeconds() < 10\r\n          ? \"0\" + new Date().getSeconds()\r\n          : new Date().getSeconds();\r\n      _this.gettime = yy + \"/\" + mm + \"/\" + dd + \" \" + hh + \":\" + mf + \":\" + ss;\r\n      this.form.date = _this.gettime;\r\n    },\r\n    //文章提交\r\n    onSubmit() {\r\n      let title = this.form.title;\r\n      let user_name = this.form.user_name;\r\n      let date = this.form.date;\r\n      let text = this.form.text;\r\n      let formData = new FormData();\r\n      let content = $(\"#summernote\").summernote(\"code\");\r\n      formData.append(\"title\", title);\r\n      formData.append(\"date\", date);\r\n      formData.append(\"user_name\", user_name);\r\n      formData.append(\"detail\", content);\r\n      if (this.form.text != \"\") {\r\n        formData.append(\"text\", text);\r\n      }\r\n      // //console.log(content);\r\n      // axios\r\n      //   .post(\"/upload/update/\" + this.index, formData)\r\n      //   .then((res) => {\r\n      //     let r = res.data;\r\n      //     if (r.affectedRows == 1) {\r\n      this.$message.success(\"提交成功！\");\r\n      this.$router.push(\"/info\");\r\n      //   }\r\n      // })\r\n      // .catch((err) => {\r\n      //   console.log(err);\r\n      // });\r\n    },\r\n  },\r\n  mounted() {\r\n    this.fetchNotes();\r\n    this.getdate();\r\n    $(document).ready(function () {\r\n      $(\"#summernote\").summernote({\r\n        height: 200,\r\n        placeholder: \"请添加文字内容\",\r\n        toolbar: [\r\n          [\"style\", [\"style\"]],\r\n          [\"font\", [\"bold\", \"underline\", \"clear\"]],\r\n          [\"fontname\", [\"fontname\"]],\r\n          [\"color\", [\"color\"]],\r\n          [\"para\", [\"ul\", \"ol\", \"paragraph\"]],\r\n          [\"table\", [\"table\"]],\r\n          [\"insert\", [\"link\", \"picture\", \"video\"]],\r\n          [\"view\", [\"fullscreen\", \"codeview\", \"help\"]],\r\n        ],\r\n        callbacks: {\r\n          onImageUpload: function (files) {\r\n            let formData = new FormData();\r\n            files = Array.from(files);\r\n            files.forEach((file) => {\r\n              formData.append(\"pic\", file);\r\n            });\r\n            // axios\r\n            //   .post(\"/upload/up\", formData)\r\n            //   .then((res) => {\r\n            //     console.log(res);\r\n            //     res.data.forEach((url) => {\r\n            //       let okurl = \"\\\\\" + url;\r\n            //       $(\"#summernote\").summernote(\"insertImage\", okurl);\r\n            //     });\r\n            //   })\r\n            //   .catch((err) => {\r\n            //     console.log(err);\r\n            //   });\r\n          },\r\n        },\r\n      });\r\n    });\r\n  },\r\n  components: {\r\n    navbar,\r\n    vHeader,\r\n  },\r\n};\r\n</script>\r\n<style scoped>\r\n.container {\r\n  width: 980px;\r\n  padding-top: 20px;\r\n}\r\n</style>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Notechange.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Notechange.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Notechange.vue?vue&type=template&id=fa816906&scoped=true&\"\nimport script from \"./Notechange.vue?vue&type=script&lang=js&\"\nexport * from \"./Notechange.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Notechange.vue?vue&type=style&index=0&id=fa816906&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"fa816906\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","on","goBack","model","value","form","callback","$$v","$set","expression","text","_e","staticStyle","directives","name","rawName","domProps","$event","target","composing","onSubmit","_v","staticRenderFns","data","user_no","title","date","user_name","index","methods","checkuserno","cookie","console","log","$router","push","path","h","$notify","message","style","go","fetchNotes","$route","params","id","res","notedetail","$","summernote","remark","getdate","_this","yy","Date","getFullYear","mm","getMonth","dd","getDate","hh","getHours","mf","ss","gettime","formData","FormData","content","append","$message","success","mounted","document","ready","height","placeholder","toolbar","callbacks","onImageUpload","files","Array","from","forEach","file","components","navbar","vHeader","component"],"sourceRoot":""}